<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ワードウルフ進行支援ツール">
    <title>みんなのワードウルフ</title>
    <link rel="icon" href="img/favicon.ico">
    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Yusei+Magic&family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">
    <!-- reset.css ress -->
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <main>
        <div class="word-wolf-container">

            <!-- モーダルマスク -->
            <div id="modal-mask" class="modal-mask">

                <!-- ラウンドカウント -->
                <div id="round-count" class="modal-mask__round-count"></div>
            </div>

            <!-- ヘルプ画面 -->
            <section id="help-screen" class="help-screen">
                <div id="help-modal" class="help-screen__modal">
                    <h2 class="title title--section">ヘルプ</h2>
                    <div class="help-screen__modal-content">
                        <h3 class="help-screen__modal-content-title title">ワードウルフとは？</h3>
                        <p>ワードウルフとは、プレイヤー同士で会話をしながら、「異なるお題を持っている人（=ワードウルフ）」を見つけ出す推理ゲームです。各プレイヤーには1つずつお題（ワード）が与えられますが、そのうち1人だけ、他のプレイヤーとは異なるワードが配られます。誰がワードウルフなのかを、会話を通して見抜きましょう。
                        </p>
                        <h3 class="help-screen__modal-content-title title">遊び方</h3>
                        <h4 class="help-screen__modal-step-title">① ゲーム設定</h4>
                        <ul>
                            <li>・ゲームモードの選択 ※下記詳細</li>
                            <li>・プレイヤー人数の入力</li>
                            <li>・プレイヤー名の入力</li>
                            <li>・討論時間の設定</li>
                        </ul>
                        <h4 class="help-screen__modal-step-title">② ワードの設定 ※家畜モードのみ</h4>
                        <p>マスターが「村人ワード」と「ウルフワード」の2つを設定します。全体の会話バランスが崩れないよう、似た内容で設定するのがコツです。</p>
                        <h4 class="help-screen__modal-step-title">③ ワードの確認</h4>
                        <p>プレイヤー全員にそれぞれのお題が順番に表示されます。1人だけには「ウルフワード」が配られ、他のプレイヤーには「村人ワード」が配られます。</p>
                        <h4 class="help-screen__modal-step-title">④ 討論タイム</h4>
                        <p>設定された時間内で、お題に関する自由な会話を行います。お題を直接口にしたり、明確に連想できる発言は避けましょう。</p>
                        <h4 class="help-screen__modal-step-title">⑤ 投票</h4>
                        <p>討論終了後、ウルフだと思うプレイヤーに、プレイヤーが順番に投票します。</p>
                        <h4 class="help-screen__modal-step-title">⑥ 投票結果</h4>
                        <p>最も票を集めたプレイヤーがウルフだった場合、村人の勝利です。ウルフではなかった場合は、ウルフの勝利となりますが...
                            <br>
                            <strong>ウルフ側には逆転チャンスがあります。</strong>
                            ウルフが「村人側のワード」を正しく推理できた場合、逆転勝利となります。
                        </p>
                        <h3 class="help-screen__modal-content-title title">スコアの計算</h3>
                        <h4 class="help-screen__modal-step-title">ウルフを指名成功+逆転チャンス失敗</h4>
                        <p>ウルフに投票した村人に+1点</p>
                        <h4 class="help-screen__modal-step-title">ウルフを指名成功+逆転チャンス成功</h4>
                        <p>ウルフに+1点</p>
                        <h4 class="help-screen__modal-step-title">ウルフを指名失敗</h4><p>ウルフに+1点</p>
                        <h3 class="help-screen__modal-content-title title">モードについて</h3>
                        <h4 class="help-screen__modal-step-title">家畜モード（Tamed Mode）</h4>
                        <p>ラウンドごとに1人のマスターが順番に選ばれ、お題を設定します。他のプレイヤーはそのお題でワードウルフをプレイします。マスターは議論には参加せず、観察者として進行を楽しめます。</p>
                        <p>プレイ人数：4～8人</p>
                        <h4 class="help-screen__modal-step-title">野生モード（Wild Mode）</h4>
                        <p>全員がプレイヤーとしてゲームに参加し、お題は自動でランダムに選ばれます。よりカジュアルにテンポよく遊びたいときにおすすめのモードです。</p>
                        <p>プレイ人数：3～7人</p>
                    </div>
                    <button id="close-help-btn" class="btn btn--secondary">閉じる</button>
                </div>
                <button id="show-help-btn" class="help-screen__btn help-screen__btn--active">?</button>
                <div id="help-modal-mask" class="help-screen__modal-mask"></div>
            </section>

            <!-- トップページ -->
            <section id="top-page-screen" class="top-page-screen screen  screen--active">
                <h1 class="top-page__title title title--main">みんなのワードウルフ</h1>
                <button id="start-new-game-btn" class="btn btn--primary">はじめから</button>
                <button id="continue-game-btn" class="btn btn--primary">つづきから</button>
            </section>

            <!-- ゲーム設定画面 -->
            <section id="setup-screen" class="setup-screen screen">
                <h2 class="title title--section">ゲーム設定</h2>
                <div class="setup-screen__content">
                    <h3 class="title title--content">ゲームモード選択</h3>
                    <form class="setup-screen__form-group" onsubmit="return false;">
                        <div class="setup-screen__form-toggle">
                            <input type="radio" id="tamed-mode" class="setup-screen__form-toggle-input" name="game-mode"
                                value="tamed" checked>
                            <label for="tamed-mode"
                                class="setup-screen__form-toggle-label setup-screen__form-toggle-label--active">家畜モード</label>
                            <input type="radio" id="wild-mode" class="setup-screen__form-toggle-input" name="game-mode"
                                value="wild">
                            <label for="wild-mode" class="setup-screen__form-toggle-label">野生モード</label>
                            <span id="game-mode-slider"
                                class="setup-screen__form-toggle-slider setup-screen__form-toggle-slider--tamed"></span>
                        </div>
                    </form>
                    <div class="setup-screen__form-description">
                        <ul id="game-mode-description"
                            class="setup-screen__form-description-frame setup-screen__form-description-frame--tamed">
                            <li class="setup-screen__form-description-item setup-screen__form-description-item--tamed">
                                <h4 class="setup-screen__form-description-item-title">家畜モード（Tamed Mode）</h4>
                                <p>ラウンドごとに1人のマスターが順番に選ばれ、お題を設定します。他のプレイヤーはそのお題でワードウルフをプレイします。マスターは議論には参加せず、観察者として進行を楽しめます。
                                </p>
                            </li>
                            <li class="setup-screen__form-description-item setup-screen__form-description-item--wild">
                                <h4 class="setup-screen__form-description-item-title">野生モード（Wild Mode）</h4>
                                <p>全員がプレイヤーとしてゲームに参加し、お題は自動でランダムに選ばれます。よりカジュアルにテンポよく遊びたいときにおすすめのモードです。</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="setup-screen__content">
                    <h3 class="title title--content">プレイヤー構成</h3>
                    <form class="setup-screen__form-group" onsubmit="return false;">
                        <label class="setup-screen__form-label" for="total-players">プレイヤー総数:</label>
                        <input type="number" id="total-players" class="setup-screen__form-input" min="4" max="8"
                            value="4" required>
                        <p id="total-players-caution-text"
                            class="setup-screen__form-text setup-screen__form-text--tamed">プレイ人数：4～8人</p>
                    </form>
                </div>
                <div class="setup-screen__content">
                    <h3 class="title title--content">プレイヤー名</h3>
                    <div id="player-names-container"></div>
                </div>
                <div class="setup-screen__content">
                    <h3 class="title title--content">時間設定</h3>
                    <form class="setup-screen__form-group" onsubmit="return false;">
                        <label class="setup-screen__form-label" for="timer-minutes">討論時間（分）:</label>
                        <input type="number" id="timer-minutes" class="setup-screen__form-input" min="1" max="10"
                            value="3" required>
                    </form>
                </div>
                <button id="start-game-btn" class="btn btn--primary">ゲーム開始</button>
            </section>

            <!-- ワードセット画面（家畜モード） -->
            <section id="word-set-screen" class="word-set-screen screen">
                <h2 class="title title--section">ワードの設定</h2>
                <h3 id="word-set-master-player" class="title title--content"></h3>
                <p class="word-set-screen__text">マスターはワードを設定してください</p>
                <form class="word-set-screen__form-group" onsubmit="return false;">
                    <label class="word-set-screen__form-label" for="word-set-villager-word">村人ワード:</label>
                    <input type="text" id="word-set-villager-word" class="word-set-screen__form-input" max="20"
                        required>
                    <label class="word-set-screen__form-label" for="word-set-wolf-word">ウルフワード:</label>
                    <input type="text" id="word-set-wolf-word" class="word-set-screen__form-input" max="20" required>
                    <p id="word-set-error-text" class="word-set-screen__form-error-text">※村人とウルフのワードは別のものを設定してください</p>
                    <button id="word-set-swap-words-btn" class="btn btn--secondary">ワードを入れ替える</button>
                </form>
                <button id="word-set-confirm-btn" class="btn btn--primary">決定</button>
            </section>

            <!-- ワード配布画面 -->
            <section id="word-distribution-screen" class="word-distribution-screen screen">
                <h2 class="title title--section">ワードの確認</h2>
                <div id="current-player-info">
                    <h3 id="current-player-name" class="title title--content"></h3>
                    <p id="word-distribution-current-text" class="word-distribution-screen__text"></p>
                    <button id="reveal-word-btn" class="btn btn--accent">ワードの確認</button>
                </div>
                <div id="word-modal" class="word-distribution-screen__modal">
                    <h3 id="word-modal-player-name" class="title title--content"></h3>
                    <div id="modal-word" class="word-distribution-screen__word-display"></div>
                    <button id="next-player-btn"
                        class="word-distribution-screen__modal-btn btn btn--primary">次のプレイヤーへ</button>
                    <button id="show-discussion-btn"
                        class="word-distribution-screen__modal-btn btn btn--accent">討論画面へ</button>
                </div>
            </section>

            <!-- 討論画面 -->
            <section id="discussion-screen" class="discussion-screen screen">
                <h2 class="title title--section">討論タイム</h2>
                <div class="discussion-screen__content">
                    <div id="timer-display" class="discussion-screen__timer"></div>
                    <button id="start-timer-btn" class="btn btn--primary">討論開始</button>
                    <div class="discussion-screen__timer-controls">
                        <button id="pause-timer-btn"
                            class="discussion-screen__timer-controls-btn btn btn--secondary">一時停止</button>
                        <button id="resume-timer-btn"
                            class="discussion-screen__timer-controls-btn btn btn--primary">再開</button>
                        <button id="end-discussion-btn"
                            class="discussion-screen__timer-controls-btn btn btn--accent">討論終了</button>
                    </div>
                </div>
                <div class="discussion-screen__content">
                    <h3 id="master-player-name" class="title title--content"></h3>
                    <ul id="players-list" class="discussion-screen__players-list">
                    </ul>
                    <p class="discussion-screen__players-list-text">プレイヤー名をクリックすることで<br>そのプレイヤーのワードを表示</p>
                </div>
            </section>

            <!-- 投票画面 -->
            <section id="vote-screen" class="vote-screen screen">
                <h2 class="title title--section">投票</h2>
                <div class="vote-screen__content">
                    <button id="start-vote-btn" class="vote-screen__content-btn btn btn--primary">投票開始</button>
                    <button id="vote-result-btn" class="vote-screen__content-btn btn btn--accent">投票結果へ</button>
                    <button id="continue-discussion-btn"
                        class="vote-screen__content-btn btn btn--secondary">再討論</button>
                </div>

                <div id="vote-modal" class="vote-screen__modal">
                    <h3 id="vote-modal-player-name" class="title title--content"></h3>
                    <p class="vote-screen__modal-text">ウルフだと思うプレイヤーに<br>投票してください</p>
                    <ul id="vote-modal-options" class="vote-screen__options"></ul>
                    <button id="vote-modal-submit-btn" class="btn btn--primary" disabled>投票</button>
                </div>
            </section>

            <!-- 投票結果画面 -->
            <section id="vote-result-screen" class="vote-result-screen screen">
                <h2 class="title title--section">投票結果</h2>
                <div class="vote-result-screen__result">
                    <div id="vote-result-accused-player" class="vote-result-screen__accused-player"></div>
                    <div id="vote-result-success"
                        class="vote-result-screen__result-item vote-result-screen__result-item--success">
                        <span>指名成功</span><br>
                        <span class="vote-result-screen__wolf-player"></span>
                    </div>
                    <div id="vote-result-failure"
                        class="vote-result-screen__result-item vote-result-screen__result-item--failure">
                        <span>指名失敗</span><br>
                        <span class="vote-result-screen__wolf-player"></span>
                    </div>
                </div>
                <div class="vote-result-screen__volt-history">
                    <h3 class="title title--content">投票履歴</h3>
                    <ul id="vote-result-volt-history-list" class="vote-result-screen__volt-history-list"></ul>
                </div>
                <button id="wolf-chance-btn" class="btn btn--accent">ウルフ逆転チャンス</button>
                <button id="game-result-btn-vote" class="btn btn--primary">ゲーム結果へ</button>
            </section>

            <!-- 逆転チャンス画面 -->
            <section id="wolf-chance-screen" class="screen">
                <h2 class="title title--section">逆転チャンス</h2>
                <p class="wolf-chance-screen__form-text">ウルフは村人のワードを推測してください</p>
                <form class="wolf-chance-screen__form-group" onsubmit="return false;">
                    <label class="wolf-chance-screen__form-label" for="wolf-guess">推測するワード:</label>
                    <input type="text" id="wolf-guess" class="wolf-chance-screen__form-input" placeholder="ワードを入力"
                        max="20" required>
                </form>
                <button id="submit-guess-btn" class="btn btn--primary" disabled>回答する</button>
            </section>

            <!-- 逆転チャンス結果画面 -->
            <section id="wolf-chance-result-screen" class="screen">
                <h2 class="title title--section">逆転チャンス結果</h2>
                <div class="wolf-chance-result-screen__result">
                    <div id="wolf-chance-result-success"
                        class="wolf-chance-result-screen__result-item wolf-chance-result-screen__result-item--success">
                        <span>正解</span><br>
                        <span class="wolf-chance-result-screen__villager-word"></span>
                    </div>
                    <div id="wolf-chance-result-failure"
                        class="wolf-chance-result-screen__result-item wolf-chance-result-screen__result-item--failure">
                        <span>不正解</span><br>
                        <span class="wolf-chance-result-screen__villager-word"></span>
                    </div>
                </div>
                <button id="game-result-btn-wolf-chance" class="btn btn--primary">ゲーム結果へ</button>
            </section>

            <!-- ゲーム結果画面 -->
            <section id="game-result-screen" class="game-result-screen screen">
                <h2 id="game-result-title" class="title title--section">ゲーム結果</h2>
                <div class="game-result-screen__result">
                    <div class="game-result-screen__result-item game-result-screen__result-item--villager-win"
                        id="game-result-villager">村人の勝利！</div>
                    <div class="game-result-screen__result-item game-result-screen__result-item--wolf-win"
                        id="game-result-wolf">ウルフの勝利！</div>
                </div>
                <div class="game-result-screen__score-board">
                    <h3 class="title title--content">スコアボード</h3>
                    <ul id="score-list" class="game-result-screen__score-list"></ul>
                </div>
                <button id="next-game-btn" class="btn btn--primary">次のゲームへ</button>
                <button id="end-game-btn" class="btn btn--secondary">ゲーム終了</button>
            </section>

            <!-- 最終結果画面 -->
            <section id="end-result-screen" class="end-result-screen screen">
                <h2 class="title title--section">最終結果</h2>
                <div class="end-result-screen__score-board">
                    <h3 class="title title--content">スコアボード</h3>
                    <ul id="end-result-score-list" class="end-result-screen__score-list"></ul>
                </div>
                <button id="back-to-top-btn" class="btn btn--primary">トップ画面へ</button>
            </section>
        </div>
    </main>

    <script src="script.js"></script>
</body>

</html>